<div class="container py-5">
  <div class="mb-4 text-center">
    <h1 class="fw-bold" style="color: #7f9cf5;">System Users</h1>
    <%= link_to "Add New User", new_user_path, class: "btn btn-primary btn-lg mt-2" %>
  </div>

  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow mb-5">
        <div class="card-header bg-gradient" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff;">
          <h4 class="mb-0">Admins</h4>
        </div>
        <ul class="list-group list-group-flush">
          <% User.admin.each do |u| %>
            <li class="list-group-item d-flex align-items-center justify-content-between">
              <span>
                <% if u.avatar.attached? %>
                  <%= image_tag u.avatar.variant(resize: "36x36^").processed, class: "rounded-circle border me-2", style: "vertical-align: middle;" %>
                <% else %>
                  <span class="rounded-circle d-inline-flex align-items-center justify-content-center me-2" style="width: 36px; height: 36px; background: #7f9cf5; color: #fff; font-weight: 700;">
                    <%= u.first_name.first.upcase %>
                  </span>
                <% end %>
                <%= link_to u.full_name, user_path(u), class: "fw-semibold", style: "color: #4a569d;" %>
                <span class="badge bg-info ms-2">Admin</span>
              </span>
              <%= mail_to u.email, nil, class: "text-secondary" %>
            </li>
          <% end %>
        </ul>
      </div>

      <div class="card shadow">
        <div class="card-header bg-light">
          <h4 class="mb-0" style="color:#764ba2;">Other Users</h4>
        </div>
        <ul class="list-group list-group-flush">
          <% User.general.each do |u| %>
            <li class="list-group-item d-flex align-items-center justify-content-between">
              <span>
                <% if u.avatar.attached? %>
                  <%= image_tag u.avatar.variant(resize: "36x36^").processed, class: "rounded-circle border me-2", style: "vertical-align: middle;" %>
                <% else %>
                  <span class="rounded-circle d-inline-flex align-items-center justify-content-center me-2" style="width: 36px; height: 36px; background: #764ba2; color: #fff; font-weight: 700;">
                    <%= u.first_name.first.upcase %>
                  </span>
                <% end %>
                <%= link_to u.full_name, user_path(u), class: "fw-semibold", style: "color: #4a569d;" %>
              </span>
              <%= mail_to u.email, nil, class: "text-secondary" %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>
